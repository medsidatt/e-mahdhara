{% extends "base.html" %}
{% load i18n socialaccount %}

{% block title %}Login - Mahdhara{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow-lg p-4" style="max-width: 400px; width: 100%;">
    <div class="card-body">
      <h1 class="card-title text-center mb-4">{% trans "Login" %}</h1>

      <form method="post" action="{% url 'account_login' %}" class="mb-3">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-success w-100">
          {% trans "Log In" %}
        </button>
      </form>

      <hr class="my-4">

      <!-- Google Login -->
      {% get_providers as social_providers %}
      {% for provider in social_providers %}
        {% if provider.id == 'google' %}
          <div class="mb-2">
            <a href="{% provider_login_url provider.id %}"
               class="btn btn-danger w-100 d-flex align-items-center justify-content-center text-white">
              <i class="bi bi-google me-2"></i> {% trans "Sign in with Google" %}
            </a>
          </div>
        {% endif %}
      {% empty %}
        <p class="text-center text-muted">{% trans "No social logins available." %}</p>
      {% endfor %}

      <p class="mt-3 text-center">
        {% trans "Don't have an account?" %}
        <a href="{% url 'account_signup' %}" class="text-success">{% trans "Sign up" %}</a>
      </p>
    </div>
  </div>
</div>
{% endblock %}
